{% extends "evenio/event_list.html" %}
{% load i18n %}

{% block content_header %}

  <div class="header_nav_buttons previous_button">Test{{ previous_month|date:"F Y"|capfirst }}</div>

  <div class="header_nav_buttons next_button">{{ next_month|date:"F Y"|capfirst }}</div>

  {% if event_list %}
  <h1>{{ event_list.0.starts|date:"F Y"|capfirst }}</h1>

  {% if is_paginated %}
  <div class="pagination">
    {% for page in paginator.page_range %}
      <a href="?page={{ page }}"{% if page_obj.number == page %} class="selected"{% endif %}>{{ page }}</a>
    {% endfor %}        
  </div>
  {% endif %}

  {% else %}
  <h1>DER SKER INGENTING!</h1>
  {% endif %}
{% endblock %}

{% block content_footer %}
  {% if is_paginated %}
  <div class="pagination">
    {% for page in paginator.page_range %}
      <a href="?page={{ page }}"{% if page_obj.number == page %} class="selected"{% endif %}>{{ page }}</a>
    {% endfor %}        
  </div>
  {% endif %}
{% endblock %}

{% block content %}

  {% for event in event_list %}
  <div class="event_item">
    <div class="event_meta">
      <div class="event_property event_property_location">
        <span class="label">{% trans "Where" %}:</span>
        {{ event.address|default:"-" }}
      </div>
      <div class="event_property event_property_when">
        <span class="label">{% trans "When" %}:</span>
        {{ event.starts|time }}
        {% if event.ends %}
          {% ifequal event.starts|date:"j" event.ends|date:"j" %}
            {{ event.ends|time }}
          {% else %}
            {{ event.starts|date:"j/n" }} {{ event.date|time }}
          {% endifequal %}
        {% endif %}
      </div>
      <div class="event_property event_property_price">
        <span class="label">{% trans "EntrÃ©" %}:</span>
        {% if event.price %}
        {{ event.price }} {% trans "DKK" %}
        {% else %}
        {% trans "GRATIS" %}
        {% endif %}
      </div>
    </div>
    <div class="event_date">{{ event.starts|date:"j/n" }}</div>
    <div class="event_title">{{ event.title }}</div>
    <div class="event_description">{{ event.description|truncatewords:50 }}</div>
    <div class="clearfix"></div>
  </div>
  {% endfor %}

{% endblock %}
